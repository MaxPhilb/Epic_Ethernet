; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[env:megaatmega2560]
platform = atmelavr
board = megaatmega2560
framework = arduino
lib_deps = 
	adafruit/Adafruit MCP23017 Arduino Library@^2.3.0
	feilipu/FreeRTOS@^10.5.1-0
	nanopb/Nanopb@^0.4.7
	eric-wieser/nanopb-arduino@^1.1.0
	khoih-prog/Ethernet_Generic@^2.8.1
	arduino-libraries/Ethernet@^2.0.2


;
; You can setup `custom_nanopb_protos` `nanopb_options` vars to generate code from proto files
;
; Generator will use next folders:
;
;   `$BUILD_DIR/nanopb/generated-src` - `*.pb.h` and `*.pb.c` files
;   `$BUILD_DIR/nanopb/md5` - MD5 files to track changes in source .proto/.options
;
; Compiled `.pb.o` files will be located under `$BUILD_DIR/nanopb/generated-build`
;
; Example:

[env:pio_with_options]
platform = native
lib_deps = Nanopb

src_filter =
    +<pio_with_options.c>

; All path are relative to the `$PROJECT_DIR`
custom_nanopb_protos =
    +<proto/pio_with_options.proto>
custom_nanopb_options =
    --error-on-unmatched

[env:pio_without_options]
platform = native
lib_deps = Nanopb

src_filter =
    +<pio_without_options.c>

; All path are relative to the `$PROJECT_DIR`
custom_nanopb_protos =
    +<proto/pio_without_options.proto>


[env:pio_esp32_idf]
platform = espressif32
board = firebeetle32
framework = espidf
lib_deps = Nanopb

; Warning: the 'src_filter' option cannot be used with ESP-IDF. Select source files to build in the project CMakeLists.txt file.
; So, we specified source files in src/CMakeLists.txt

custom_nanopb_protos =
    +<proto/pio_without_options.proto>